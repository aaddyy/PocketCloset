<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>AdobeLabsUXMagicSelectionView Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">AdobeCreativeSDKLabs.framework </a></h1>
				<a id="developerHome" href="../index.html">Adobe Systems Incorporated</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">AdobeLabsUXMagicSelectionView Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/brushMode">&nbsp;&nbsp;&nbsp;&nbsp;brushMode</option>
	
	<option value="//api/name/brushSize">&nbsp;&nbsp;&nbsp;&nbsp;brushSize</option>
	
	<option value="//api/name/brushSoftness">&nbsp;&nbsp;&nbsp;&nbsp;brushSoftness</option>
	
	<option value="//api/name/contentOffset">&nbsp;&nbsp;&nbsp;&nbsp;contentOffset</option>
	
	<option value="//api/name/image">&nbsp;&nbsp;&nbsp;&nbsp;image</option>
	
	<option value="//api/name/imageWasResized">&nbsp;&nbsp;&nbsp;&nbsp;imageWasResized</option>
	
	<option value="//api/name/maximumZoomScale">&nbsp;&nbsp;&nbsp;&nbsp;maximumZoomScale</option>
	
	<option value="//api/name/minimumZoomScale">&nbsp;&nbsp;&nbsp;&nbsp;minimumZoomScale</option>
	
	<option value="//api/name/zoomScale">&nbsp;&nbsp;&nbsp;&nbsp;zoomScale</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/clearStrokes">&nbsp;&nbsp;&nbsp;&nbsp;- clearStrokes</option>
	
	<option value="//api/name/clearStrokes:">&nbsp;&nbsp;&nbsp;&nbsp;- clearStrokes:</option>
	
	<option value="//api/name/display">&nbsp;&nbsp;&nbsp;&nbsp;- display</option>
	
	<option value="//api/name/getForeground:andMatte:">&nbsp;&nbsp;&nbsp;&nbsp;- getForeground:andMatte:</option>
	
	<option value="//api/name/initWithCoder:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithCoder:</option>
	
	<option value="//api/name/initWithFrame:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithFrame:</option>
	
	<option value="//api/name/readForegroundAndMatteIntoBuffer:">&nbsp;&nbsp;&nbsp;&nbsp;- readForegroundAndMatteIntoBuffer:</option>
	
	<option value="//api/name/setContentOffset:animated:">&nbsp;&nbsp;&nbsp;&nbsp;- setContentOffset:animated:</option>
	
	<option value="//api/name/setImage:withCompletionBlock:">&nbsp;&nbsp;&nbsp;&nbsp;- setImage:withCompletionBlock:</option>
	
	<option value="//api/name/setZoomScale:animated:">&nbsp;&nbsp;&nbsp;&nbsp;- setZoomScale:animated:</option>
	
	<option value="//api/name/startProcessingSelectionInBackground:">&nbsp;&nbsp;&nbsp;&nbsp;- startProcessingSelectionInBackground:</option>
	
	<option value="//api/name/strokeAddLineToPoint:">&nbsp;&nbsp;&nbsp;&nbsp;- strokeAddLineToPoint:</option>
	
	<option value="//api/name/strokeMoveToPoint:">&nbsp;&nbsp;&nbsp;&nbsp;- strokeMoveToPoint:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Properties">Properties</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Instance Methods">Instance Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/brushMode">brushMode</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/brushSize">brushSize</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/brushSoftness">brushSoftness</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/contentOffset">contentOffset</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/image">image</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/imageWasResized">imageWasResized</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/maximumZoomScale">maximumZoomScale</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/minimumZoomScale">minimumZoomScale</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/zoomScale">zoomScale</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearStrokes">clearStrokes</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearStrokes:">clearStrokes:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/display">display</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getForeground:andMatte:">getForeground:andMatte:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithCoder:">initWithCoder:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithFrame:">initWithFrame:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/readForegroundAndMatteIntoBuffer:">readForegroundAndMatteIntoBuffer:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setContentOffset:animated:">setContentOffset:animated:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setImage:withCompletionBlock:">setImage:withCompletionBlock:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setZoomScale:animated:">setZoomScale:animated:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/startProcessingSelectionInBackground:">startProcessingSelectionInBackground:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/strokeAddLineToPoint:">strokeAddLineToPoint:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/strokeMoveToPoint:">strokeMoveToPoint:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="AdobeLabsUXMagicSelectionView Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">AdobeLabsUXMagicSelectionView Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">UIView</td>
</tr><tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value">GLKViewDelegate<br />UIGestureRecognizerDelegate</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">AdobeLabsUXMagicSelectionView.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p><code>AdobeLabsUXMagicSelectionView</code> is a subclass of UIView that provides interactive stroke-based selection of an <fakeout>image</fakeout> region that magically selects foreground objects from the <fakeout>image</fakeout>, including fine details such as hair.</p>

<p>The magically selected region is referred to as the <b><i>matte</i></b>.</p>

<p>The view also provides functionality similar to UIScrollView, enabling users
to pan and zoom on the <fakeout>image</fakeout>. Zooming is performed with a pinch gesture, but
unlike UIScrollView, panning requires a two-finger touch, as the single-touch
gesture is reserved for magic selection.</p>

<p>An <code>AdobeLabsUXMagicSelectionView</code> instance may be added to the view hierarchy
programatically, or via Interface Builder by setting the custom class for a view.</p>

<p>The following code illustrates how to programatically create a magic selection view and add it to your view controller:</p>

<pre><code>// load a UIImage to use from the app resource bundle
UIImage * image = [UIImage imageNamed:@"myImage.jpg"];

// create the magic selection view, set the image, and add the magic selection view as a subview to the view controller
_magicSelectionView = [[AdobeLabsUXMagicSelectionView alloc] initWithFrame:
    CGRectMake(0, 0, self.view.bounds.size.width, self.view.bounds.size.height)];
[_magicSelectionView setImage: image withCompletionBlock: myCompletionBlock];
[self.view addSubview: _magicSelectionView];
</code></pre>

<p><b>Note:</b> <fakeout>setImage</fakeout> is asynchronous and requires the use of a completion block for robust operation.  See <a href="#//api/name/setImage:withCompletionBlock:">setImage:withCompletionBlock:</a> for more information.</p>

<p>Once the user performs a selection, the raw foreground and matte data can be obtained via the <a href="#//api/name/readForegroundAndMatteIntoBuffer:">readForegroundAndMatteIntoBuffer:</a> method:</p>

<pre><code>size_t w = _magicSelectionView.image.size.width;
size_t h = _magicSelectionView.image.size.height;
uint8_t *data = (uint8_t *)malloc(4*w*h*sizeof(uint8_t));
[_magicSelectionView readForegroundAndMatteIntoBuffer:data];
</code></pre>

<p>The data that is read into the buffer by readForegroundAndMatteIntoBuffer consists of RGBA pixels where the RGB portion contains the foreground color corrected <fakeout>image</fakeout> and the A portion contains the matte, where 0xFF means the pixel is part of the foreground, 0x00 means the pixel is part of the background and values in the range of 0xFE and 0x01 represent pixels that are a mix of foreground and background where the value is the &lsquo;weight&rsquo; of the mix with higher numbers representing a greater ratio of foreground to background.   Since the RGB portion of the <fakeout>image</fakeout> contains color corrected foreground color components, if the pixel values are scaled by the matte values, the foreground selection can be exposed.</p>

<p>In the following example, the matte data is used to do this:</p>

<pre><code>for (int i = 0; i &lt; 4*w*h; i += 4)
{
    float alpha = (float)data[i + 3] / 255; // extract the matte value as a scale factor
    data[i]     *= alpha;
    data[i + 1] *= alpha;
    data[i + 2] *= alpha;
}

// now that the foreground selection is exposed, create a UIImage from the data
CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
CGContextRef ctx = CGBitmapContextCreate(data, w, h, 8, 4*w, colorSpace, (CGBitmapInfo)kCGImageAlphaNoneSkipLast);
CGImageRef imageRef = CGBitmapContextCreateImage(ctx);
UIImage * foregroundImage = [UIImage imageWithCGImage:imageRef];
CGImageRelease(imageRef);
CGContextRelease(ctx);
CGColorSpaceRelease(colorSpace);
free(data);

// The extracted foreground selection is now in the UIImage foregroundImage.
</code></pre>

<p><b>Note:</b> For more information on the returned <fakeout>image</fakeout> format, see <a href="#//api/name/readForegroundAndMatteIntoBuffer:">readForegroundAndMatteIntoBuffer:</a></p>

<p>Alternatively, if you don&rsquo;t need to process the underlying bitmap directly, and intend to use the results as inputs to CoreGraphics or CoreImage, you can call:</p>

<pre><code>UIImage *foreground;
UIImage *matte;
[_magicSelectionView getForeground:&amp;foreground andMatte:&amp;matte];
</code></pre>

<p>The <code>AdobeLabsUXMagicSelectionView</code> also provides facilities for manually adding and processing strokes. In the following example, a tap gesture is used as an eraser, by drawing background strokes in response to a <code>UITapGestureRecognizer</code> that has been added to the <code>AdobeLabsUXMagicSelectionView</code>.</p>

<ul>
<li><p>(void)didTap:(UITapGestureRecognizer *)tapGesture
{
   // Remember the previous brush mode to restore later and set the brush to background mode
   <a href="../Constants/AdobeLabsMagicSelectionBrushMode.html">AdobeLabsMagicSelectionBrushMode</a> prevBrushMode = self.mattingView.<a href="#//api/name/brushMode">brushMode</a>;
   _magicSelectionView.<a href="#//api/name/brushMode">brushMode</a> = AdobeLabsMagicSelectionBrushModeBackground;</p>

<p>   // Draw a point into the background stroke map at the tap location.
   [<em>magicSelectionView strokeMoveToPoint:[tapGesture locationInView:</em>magicSelectionView]];
   [<em>magicSelectionView strokeAddLineToPoint:[tapGesture locationInView:</em>magicSelectionView]];</p>

<p>   // Start selection computation.
   [<em>magicSelectionView startProcessingSelectionInBackground:^{
       // Restore the brush mode on completion
       </em>magicSelectionView.<a href="#//api/name/brushMode">brushMode</a> = prevBrushMode;
   }];
}</p></li>
</ul>

					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Properties" name="task_Properties"></a>
						<h3 class="subsubtitle task-title">Properties</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/brushMode">&nbsp;&nbsp;brushMode</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/brushSize">&nbsp;&nbsp;brushSize</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/brushSoftness">&nbsp;&nbsp;brushSoftness</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/contentOffset">&nbsp;&nbsp;contentOffset</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/image">&nbsp;&nbsp;image</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/imageWasResized">&nbsp;&nbsp;imageWasResized</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/maximumZoomScale">&nbsp;&nbsp;maximumZoomScale</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/minimumZoomScale">&nbsp;&nbsp;minimumZoomScale</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/zoomScale">&nbsp;&nbsp;zoomScale</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Instance Methods" name="task_Instance Methods"></a>
						<h3 class="subsubtitle task-title">Instance Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/clearStrokes">&ndash;&nbsp;clearStrokes</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearStrokes:">&ndash;&nbsp;clearStrokes:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/display">&ndash;&nbsp;display</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getForeground:andMatte:">&ndash;&nbsp;getForeground:andMatte:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithCoder:">&ndash;&nbsp;initWithCoder:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithFrame:">&ndash;&nbsp;initWithFrame:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/readForegroundAndMatteIntoBuffer:">&ndash;&nbsp;readForegroundAndMatteIntoBuffer:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setContentOffset:animated:">&ndash;&nbsp;setContentOffset:animated:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setImage:withCompletionBlock:">&ndash;&nbsp;setImage:withCompletionBlock:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setZoomScale:animated:">&ndash;&nbsp;setZoomScale:animated:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/startProcessingSelectionInBackground:">&ndash;&nbsp;startProcessingSelectionInBackground:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/strokeAddLineToPoint:">&ndash;&nbsp;strokeAddLineToPoint:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/strokeMoveToPoint:">&ndash;&nbsp;strokeMoveToPoint:</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/brushMode" title="brushMode"></a>
	<h3 class="subsubtitle method-title">brushMode</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Determines whether user strokes will affect the foreground, background, or mixed channel.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) AdobeLabsMagicSelectionBrushMode brushMode</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Determines whether user strokes will affect the foreground, background, or mixed channel.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/brushSize" title="brushSize"></a>
	<h3 class="subsubtitle method-title">brushSize</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Radius of the brush applied when the user strokes the <fakeout>image</fakeout>, in Points.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) NSUInteger brushSize</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Radius of the brush applied when the user strokes the <fakeout>image</fakeout>, in Points.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/brushSoftness" title="brushSoftness"></a>
	<h3 class="subsubtitle method-title">brushSoftness</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The softness of the brush.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) CGFloat brushSoftness</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The softness of the brush.</p>

<p><fakeout>brushSoftness</fakeout> is used to compensate for the fat finger issue. Higher softness
make the brush more sensitive to the content of the <a href="#//api/name/image">image</a> and will give less weight to portions of the
stroke that appear to be unintended. Lower softness means the brush is less sensitive to the <a href="#//api/name/image">image</a>
content and all regions of the stroke will be weighted equally. Valid values are between 0.0 and 1.0.
The default value is 0.5.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/contentOffset" title="contentOffset"></a>
	<h3 class="subsubtitle method-title">contentOffset</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current pan origin of the content displayed in the view.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property CGPoint contentOffset</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The current pan origin of the content displayed in the view.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/image" title="image"></a>
	<h3 class="subsubtitle method-title">image</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Read-only access to the UIImage that the on which selection is currently being performed.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (strong, readonly) UIImage *image</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Read-only access to the UIImage that the on which selection is currently being performed.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/imageWasResized" title="imageWasResized"></a>
	<h3 class="subsubtitle method-title">imageWasResized</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns whether or not the <fakeout>image</fakeout> was resized.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) BOOL imageWasResized</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Returns whether or not the <fakeout>image</fakeout> was resized.</p>

<p>The <fakeout>image</fakeout> passed into setImage:withCompletionBlock may require downsizing if its size exceeds
the device capabilities. In this case, the results returned via the <fakeout>image</fakeout> property, as well as
readForegroundAndMatteIntoBuffer will be smaller than the original input <fakeout>image</fakeout>. This property
indicates that such a resize has taken place.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/maximumZoomScale" title="maximumZoomScale"></a>
	<h3 class="subsubtitle method-title">maximumZoomScale</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A floating-point value that specifies the maximum scale factor that can be applied to the <fakeout>image</fakeout>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property CGFloat maximumZoomScale</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A floating-point value that specifies the maximum scale factor that can be applied to the <fakeout>image</fakeout>.</p>

<p>This value determines how large the content can be scaled when the user uses the pinch gesture to zoom in. It must be greater than the
minimmum zoom scale for zooming to be enabled. The default value is 1.0.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/minimumZoomScale" title="minimumZoomScale"></a>
	<h3 class="subsubtitle method-title">minimumZoomScale</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A floating-point value that specifies the minimum scale factor that can be applied to the <fakeout>image</fakeout>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property CGFloat minimumZoomScale</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A floating-point value that specifies the minimum scale factor that can be applied to the <fakeout>image</fakeout>.</p>

<p>This value determines how small the <fakeout>image</fakeout> can be scaled when the user uses the pinch gesture to
zoom out. The default value is 1.0.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/zoomScale" title="zoomScale"></a>
	<h3 class="subsubtitle method-title">zoomScale</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A floating-point value that specifies the current scale factor applied to the <fakeout>image</fakeout>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property CGFloat zoomScale</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A floating-point value that specifies the current scale factor applied to the <fakeout>image</fakeout>.</p>

<p>This value determines how much the <fakeout>image</fakeout> is currently scaled. The default value is 1.0.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/clearStrokes" title="clearStrokes"></a>
	<h3 class="subsubtitle method-title">clearStrokes</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually <fakeout>clear</fakeout> all strokes in the stroke map</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearStrokes</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually <fakeout>clear</fakeout> all strokes in the stroke map</p>

<p>The strokes will be cleared and the <fakeout>display</fakeout> will be updated asynchronously</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearStrokes:" title="clearStrokes:"></a>
	<h3 class="subsubtitle method-title">clearStrokes:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually <fakeout>clear</fakeout> all strokes in the stroke map with completion callback</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearStrokes:(void ( ^ ) ( void ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>the block to call when the <fakeout>display</fakeout> update is complete</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually <fakeout>clear</fakeout> all strokes in the stroke map with completion callback</p>

<p>The strokes will be cleared and the <fakeout>display</fakeout> will be updated asynchronously.  The completionBlock
will be called when the <fakeout>display</fakeout> update is complete.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/display" title="display"></a>
	<h3 class="subsubtitle method-title">display</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Force the view to redraw with the latest matte texture data</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)display</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Force the view to redraw with the latest matte texture data</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getForeground:andMatte:" title="getForeground:andMatte:"></a>
	<h3 class="subsubtitle method-title">getForeground:andMatte:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrieves the foreground and matte data as UIImage objects.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)getForeground:(UIImage **)<em>foregroundImage</em> andMatte:(UIImage **)<em>matteImage</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>foregroundImage</em></dt>
			<dd><p>UIImage output representing the corrected foreground.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>matteImage</em></dt>
			<dd><p>UIImage output representing the grayscale matte.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Retrieves the foreground and matte data as UIImage objects.</p><div class="note"><p><strong>Note:</strong> the RGB data is the foreground <fakeout>image</fakeout> is corrected, and the matte <fakeout>image</fakeout> is a grayscale <fakeout>image</fakeout> representing the strength of the colors in the foreground <fakeout>image</fakeout>.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithCoder:" title="initWithCoder:"></a>
	<h3 class="subsubtitle method-title">initWithCoder:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize the magic selection view with a coder.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithCoder:(NSCoder *)<em>aDecoder</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Initialize the magic selection view with a coder.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithFrame:" title="initWithFrame:"></a>
	<h3 class="subsubtitle method-title">initWithFrame:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize the magic selection view with a frame.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithFrame:(CGRect)<em>frame</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Initialize the magic selection view with a frame.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/readForegroundAndMatteIntoBuffer:" title="readForegroundAndMatteIntoBuffer:"></a>
	<h3 class="subsubtitle method-title">readForegroundAndMatteIntoBuffer:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retreive current matte and corrected foreground pixels.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)readForegroundAndMatteIntoBuffer:(uint8_t *)<em>foregroundMattePixels</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>foregroundMattePixels</em></dt>
			<dd><p>allocated buffer to receive the foreground and matte pixel data.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Retreive current matte and corrected foreground pixels.</p>

<p>This assumes foregroundMattePixels has been initialized to the proper size for the current <fakeout>image</fakeout>.</p><div class="note"><p><strong>Note:</strong> The RGB pixel values in the foreground portion are corrected by having the color components of the background at those
locations removed.  For example, if a pixel in the source <fakeout>image</fakeout> is purple (0xFF00FF) and is determined to consist of 50%
foreground (red) and 50% background (blue), then the corrected and returned RGB data at that pixel will be red (0xFF0000)
and the alpha value will be 50% (0x80), representing the strength of red in the foreground.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setContentOffset:animated:" title="setContentOffset:animated:"></a>
	<h3 class="subsubtitle method-title">setContentOffset:animated:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually pan the <fakeout>image</fakeout> in the view</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)setContentOffset:(CGPoint)<em>contentOffset</em> animated:(BOOL)<em>animated</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>contentOffset</em></dt>
			<dd><p>the offset origin to pan to</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>animated</em></dt>
			<dd><p>whether or not the panning should be animated</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually pan the <fakeout>image</fakeout> in the view</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setImage:withCompletionBlock:" title="setImage:withCompletionBlock:"></a>
	<h3 class="subsubtitle method-title">setImage:withCompletionBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously set the <fakeout>image</fakeout>, calling completion block when done.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)setImage:(UIImage *)<em>image</em> withCompletionBlock:(void ( ^ ) ( NSError *error ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>image</em></dt>
			<dd><p><fakeout>Image</fakeout> on which to perform selection.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>Called when setting of <fakeout>image</fakeout> is complete.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Asynchronously set the <fakeout>image</fakeout>, calling completion block when done.</p>

<p>If the <fakeout>image</fakeout> size exceeds the device capabilities, <fakeout>image</fakeout> will be resized internally.
This resized <fakeout>image</fakeout> is returned by the <fakeout>image</fakeout> getter property, and results returned from
readForegroundAndMatteIntoBuffer will also reflect the smaller resized <fakeout>image</fakeout>. The <a href="#//api/name/imageWasResized">imageWasResized</a> property
may be used to query whether the <fakeout>image</fakeout> was resized.</p><div class="note"><p><strong>Note:</strong> setImage will prompt the user to sign-in or sign-up to the Creative Cloud if the user
is on the network and not already logged in.  As a result it is important to provide a completion block so you know
if the the setImage was successful or not.  If setImage is successful the error passed into the
completion block will be nil.    If the user is prompted for login and the login is not successful,
the error returned in the completionBlock will be of error domain <code>AdobeAuthErrorDomain</code>.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setZoomScale:animated:" title="setZoomScale:animated:"></a>
	<h3 class="subsubtitle method-title">setZoomScale:animated:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually set the zoom scale of the view</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)setZoomScale:(CGFloat)<em>zoomScale</em> animated:(BOOL)<em>animated</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>zoomScale</em></dt>
			<dd><p>the <fakeout>zoomScale</fakeout> to set for the view</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>animated</em></dt>
			<dd><p>whether or not the zooming should be animated</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually set the zoom scale of the view</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/startProcessingSelectionInBackground:" title="startProcessingSelectionInBackground:"></a>
	<h3 class="subsubtitle method-title">startProcessingSelectionInBackground:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Start the processing of touch events.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)startProcessingSelectionInBackground:(void ( ^ ) ( void ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>called when there are no more touch points to be processed. May be nil.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Start the processing of touch events.</p>

<p>There must exist at least one new touch point to be processed. Additional touch points may
be added to the buffer during processing, as processing takes place asynchronously on a
background thread. When there are no more touch points to be processed, the optional
completionBlock is called (always on the main thread).</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/strokeAddLineToPoint:" title="strokeAddLineToPoint:"></a>
	<h3 class="subsubtitle method-title">strokeAddLineToPoint:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually update the stroke map by adding a line to the point</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)strokeAddLineToPoint:(CGPoint)<em>point</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>point</em></dt>
			<dd><p>the point to add a line to for the current stroke in the stroke map</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually update the stroke map by adding a line to the point</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/strokeMoveToPoint:" title="strokeMoveToPoint:"></a>
	<h3 class="subsubtitle method-title">strokeMoveToPoint:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Manually update the stroke map by moving the start of a stroke to the point</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)strokeMoveToPoint:(CGPoint)<em>point</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>point</em></dt>
			<dd><p>the point to move the start of a new stroke in the stroke map to</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Manually update the stroke map by moving the start of a stroke to the point</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AdobeLabsUXMagicSelectionView.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2016 Adobe Systems Incorporated. All rights reserved. (Last updated: 2016-01-19)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>